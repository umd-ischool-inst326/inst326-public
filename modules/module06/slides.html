<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>Reading &amp; Writing Files</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../lib/reveal.js.4.0.2/dist/reset.css">
  <link rel="stylesheet" href="../../lib/reveal.js.4.0.2/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../../lib/reveal.js.4.0.2/dist/theme/inst326.css" id="theme">
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Reading &amp; Writing Files</h1>
  <p class="subtitle">Text, CSV and JSON</p>
</section>

<section id="section" class="slide level1">
<h1></h1>
<p><a href="https://www.smithsonianmag.com/history/the-worlds-most-famous-filing-cabinet-36568830/"><img src="images/cabinet.jpg"></a></p>
<aside class="notes">
<p>The filing cabinet that government agents broke into to steal the medical records of Daniel Ellsberg, who was responsible for leaking the Pentagon Papers, which helped bring an end to the Vietnam War, and later the Nixon Presidency. The filing cabinet is in the Smithsonian American History Museum.</p>
</aside>
</section>
<section id="section-1" class="slide level1">
<h1></h1>
<p><a href="https://www.acc.af.mil/News/Photos/igphoto/2001845476/"> <img style="width: 80%;" src="images/files.jpg"> </a></p>
<aside class="notes">
<p>An example of a file.</p>
</aside>
</section>
<section id="section-2" class="slide level1">
<h1></h1>
<p><a href="https://patents.google.com/patent/US722709"> <img style="width: 60%;" src="images/patent.png"> </a></p>
<aside class="notes">
<p>Patent filed in 1902 for the Expansible filing system by The Library Bureau that become Remington Rand (famous for its type writers) and later invented one of the first computers the UNIVAC for the US Census.</p>
</aside>
</section>
<section id="section-3" class="slide level1">
<h1></h1>
<p><img src="images/files-osx.png"></p>
<aside class="notes">
<p>The metaphor of the “file system” lives on in our computers.</p>
</aside>
</section>
<section id="file-path" class="slide level1">
<h1>File Path</h1>
<p><br></p>
<p><strong>Absolute</strong></p>
<pre><code>/Users/edsu/inst326/slides.pdf</code></pre>
<p><br></p>
<p><strong>Relative</strong></p>
<pre><code>inst326/slides.pdf</code></pre>
</section>
<section id="section-4" class="slide level1">
<h1></h1>
<p><img width="80%" src="images/formats.jpg"></p>
</section>
<section id="text-csv-and-json" class="slide level1">
<h1>Text, CSV and JSON</h1>
</section>
<section id="text-files" class="slide level1">
<h1>Text Files</h1>
<div class="left">
<p><a href="exercises/speech.txt">speech.txt</a> is an example of a text file. Here are a few things to notice about text files:</p>
</div>
<ul>
<li>text files often have a <strong>.txt</strong> file extension</li>
<li>text files have lines separated by <strong>newline</strong> characters</li>
<li>text files have an <strong>encoding</strong>, usually <a href="https://en.wikipedia.org/wiki/Unicode">Unicode</a></li>
</ul>
</section>
<section id="read-a-text-file" class="slide level1">
<h1>Read a Text File</h1>
<div class="left">
<p>Use the <a href="https://docs.python.org/3.7/library/functions.html#open">open</a> function to open a file using the file’s <strong>path</strong> as a parameter. Use the file object’s <strong>read</strong> method to read the contents of the file into a variable.</p>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>fh <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;speech.txt&#39;</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>text <span class="op">=</span> fh.read()</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="bu">print</span>(text)</span></code></pre></div>
</section>
<section id="writing-a-text-file" class="slide level1">
<h1>Writing a Text File</h1>
<div class="left">
<p>You can also use the <strong>open</strong> function to open a file for <strong>writing</strong> by passing in <strong>w</strong> as a second argument to open. This then allows you to write data to a file.</p>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python numberLines smaller"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a>fh <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;sonnet.txt&#39;</span>, <span class="st">&#39;w&#39;</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a>fh.write(<span class="st">&#39;So long as men can breathe, or eyes can see,</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>fh.write(<span class="st">&#39;So long lives this, and this gives life to thee.</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a></span>
<span id="cb4-6"><a href="#cb4-6"></a>fh.close()</span></code></pre></div>
</section>
<section id="iterating" class="slide level1">
<h1>Iterating</h1>
<div class="left">
<p>You can use a <strong>for loop</strong> to iterate through the lines in a file object.</p>
<p>Why might it be important to be able to read a file line by line instead of all at once?</p>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="cf">for</span> line <span class="kw">in</span> <span class="bu">open</span>(<span class="st">&#39;speech.txt&#39;</span>):</span>
<span id="cb5-2"><a href="#cb5-2"></a>    <span class="bu">print</span>(line)</span></code></pre></div>
</section>
<section id="spreadsheets" class="slide level1">
<h1>Spreadsheets</h1>
<p><a href="https://docs.google.com/spreadsheets/d/1WtTBIS2KsJMpLOMAQKFPwLYJ8AwG2ug-W5XXFp5fUMk/edit?usp=sharing"><img width="80%" src="images/spreadsheet.png"></a></p>
<aside class="notes">
<p>There are lots of different spreadsheet programs that have different file formats. To make it easier to publish data so that it can be used in different tools the CSV format was created.</p>
</aside>
</section>
<section id="csv" class="slide level1">
<h1>CSV</h1>
<p><a href="energy.csv"><img width="70%" src="images/csv.png"></a></p>
<div class="fragment">
<p><strong>Comma Separated Values</strong></p>
</div>
</section>
<section id="read-a-csv-file" class="slide level1">
<h1>Read a CSV File</h1>
<div class="left">
<p>While it would be possible to read a CSV file as a text file Python’s <a href="https://docs.python.org/3/library/csv.html">csv module</a> helps you do it.</p>
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="im">import</span> csv</span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a>fh <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;energy.csv&#39;</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>spreadsheet <span class="op">=</span> csv.reader(fh)</span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="cf">for</span> row <span class="kw">in</span> spreadsheet:</span>
<span id="cb6-7"><a href="#cb6-7"></a>    <span class="bu">print</span>(row)</span></code></pre></div>
</section>
<section id="read-a-csv-file-1" class="slide level1">
<h1>Read a CSV File</h1>
<div class="left">
<p>The <a href="https://docs.python.org/3/library/csv.html#csv.DictReader">csv.DictReader</a> class uses the column headers in your CSV file to create a dictionary for each row.</p>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="im">import</span> csv</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>fh <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;energy.csv&#39;</span>)</span>
<span id="cb7-4"><a href="#cb7-4"></a>spreadsheet <span class="op">=</span> csv.DictReader(fh)</span>
<span id="cb7-5"><a href="#cb7-5"></a></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="cf">for</span> row <span class="kw">in</span> spreadsheet:</span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="bu">print</span>(row[<span class="st">&#39;State&#39;</span>], row[<span class="st">&#39;Solar&#39;</span>])</span></code></pre></div>
</section>
<section id="write-a-csv-file" class="slide level1">
<h1>Write a CSV File</h1>
<div class="left">
<p>You can also use the <a href="https://docs.python.org/3/library/csv.html#csv.writer">csv.writer</a> class to write a CSV file row by row.</p>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python numberLines smaller"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a><span class="im">import</span> csv</span>
<span id="cb8-2"><a href="#cb8-2"></a></span>
<span id="cb8-3"><a href="#cb8-3"></a>fh <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;salaries.csv&#39;</span>, <span class="st">&#39;w&#39;</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a>spreadsheet <span class="op">=</span> csv.writer(fh)</span>
<span id="cb8-5"><a href="#cb8-5"></a></span>
<span id="cb8-6"><a href="#cb8-6"></a>spreadsheet.writerow([<span class="st">&#39;Name&#39;</span>, <span class="st">&#39;Age&#39;</span>, <span class="st">&#39;Department&#39;</span>])</span>
<span id="cb8-7"><a href="#cb8-7"></a>spreadsheet.writerow([<span class="st">&#39;Val&#39;</span>, <span class="dv">19</span>, <span class="st">&#39;Physics&#39;</span>])</span>
<span id="cb8-8"><a href="#cb8-8"></a>spreadsheet.writerow([<span class="st">&#39;Rick&#39;</span>, <span class="dv">22</span>, <span class="st">&#39;English&#39;</span>])</span>
<span id="cb8-9"><a href="#cb8-9"></a>spreadsheet.writerow([<span class="st">&#39;Hope&#39;</span>, <span class="dv">20</span>, <span class="st">&#39;Information Studies&#39;</span>])</span>
<span id="cb8-10"><a href="#cb8-10"></a></span>
<span id="cb8-11"><a href="#cb8-11"></a>spreadsheet.close()</span></code></pre></div>
</section>
<section id="section-5" class="slide level1">
<h1></h1>
<div class="left">
<p>Unfortunately, not all data fits neatly into tables. What makes this example hard to represent as a table?</p>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource python numberLines small"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>people <span class="op">=</span> [</span>
<span id="cb9-2"><a href="#cb9-2"></a>  {</span>
<span id="cb9-3"><a href="#cb9-3"></a>    <span class="st">&quot;name&quot;</span>: <span class="st">&quot;Val&quot;</span>,</span>
<span id="cb9-4"><a href="#cb9-4"></a>    <span class="st">&quot;interests&quot;</span>: [<span class="st">&quot;astronomy&quot;</span>, <span class="st">&quot;hocky&quot;</span>]</span>
<span id="cb9-5"><a href="#cb9-5"></a>  },</span>
<span id="cb9-6"><a href="#cb9-6"></a>  {</span>
<span id="cb9-7"><a href="#cb9-7"></a>    <span class="st">&quot;name&quot;</span>: <span class="st">&quot;Rick&quot;</span>,</span>
<span id="cb9-8"><a href="#cb9-8"></a>    <span class="st">&quot;interests&quot;</span>: [<span class="st">&quot;karaoke&quot;</span>]</span>
<span id="cb9-9"><a href="#cb9-9"></a>  }</span>
<span id="cb9-10"><a href="#cb9-10"></a>]</span></code></pre></div>
<div class="fragment">
<p>The interests can have one to many values.</p>
</div>
</section>
<section id="apis" class="slide level1">
<h1>APIs</h1>
<p><img width="70%" src="images/apis.png"></p>
</section>
<section id="section-6" class="slide level1">
<h1></h1>
<h2 id="reading-a-json-file">Reading a JSON File</h2>
<div class="left">
<p>Python comes with a <a href="https://docs.python.org/3.7/library/json.html">json module</a> which makes it easy to read JSON using the <a href="https://docs.python.org/3.7/library/json.html#json.load">json.load</a> function. We’ll use it to load this JSON file of tweet data: <a href="exercises/aoc.json">aoc.json</a>.</p>
</div>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a><span class="im">import</span> json</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a>fh <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;aoc.json&#39;</span>)</span>
<span id="cb10-4"><a href="#cb10-4"></a>tweets <span class="op">=</span> json.load(fh)</span>
<span id="cb10-5"><a href="#cb10-5"></a></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="cf">for</span> tweet <span class="kw">in</span> tweets:</span>
<span id="cb10-7"><a href="#cb10-7"></a>    <span class="bu">print</span>(tweet[<span class="st">&#39;hashtags&#39;</span>])</span></code></pre></div>
</section>
<section id="write-a-json-file" class="slide level1">
<h1>Write a JSON File</h1>
<div class="left">
<p>You can also use the <a href="https://docs.python.org/3.7/library/json.html#json.dump">json.dump</a> function to save a data structure to a file.</p>
</div>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python numberLines smaller"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="im">import</span> json</span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a>people <span class="op">=</span> [</span>
<span id="cb11-4"><a href="#cb11-4"></a>  {<span class="st">&quot;name&quot;</span>: <span class="st">&quot;Val&quot;</span>, <span class="st">&quot;interests&quot;</span>: [<span class="st">&quot;astronomy&quot;</span>, <span class="st">&quot;hockey&quot;</span>]},</span>
<span id="cb11-5"><a href="#cb11-5"></a>  {<span class="st">&quot;name&quot;</span>: <span class="st">&quot;Rick&quot;</span>, <span class="st">&quot;interests&quot;</span>: [<span class="st">&quot;karaoke&quot;</span>]}</span>
<span id="cb11-6"><a href="#cb11-6"></a>]</span>
<span id="cb11-7"><a href="#cb11-7"></a></span>
<span id="cb11-8"><a href="#cb11-8"></a>fh <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;data.json&#39;</span>, <span class="st">&#39;w&#39;</span>)</span>
<span id="cb11-9"><a href="#cb11-9"></a>json.dump(people, fh)</span></code></pre></div>
</section>
<section id="in-summary" class="slide level1">
<h1>In Summary</h1>
<div class="left">
<p>We covered a lot of territory learning about input and output operations:</p>
</div>
<ul>
<li><strong>Files</strong> and <strong>Paths</strong></li>
<li>read &amp; write <strong>Text</strong> files</li>
<li>read &amp; write <strong>CSV</strong> files</li>
<li>read &amp; write <strong>JSON</strong> files</li>
</ul>
</section>
    </div>
  </div>

  <script src="../../lib/reveal.js.4.0.2/dist/reveal.js"></script>

  // reveal.js plugins
  <script src="../../lib/reveal.js.4.0.2/plugin/notes/notes.js"></script>
  <script src="../../lib/reveal.js.4.0.2/plugin/search/search.js"></script>
  <script src="../../lib/reveal.js.4.0.2/plugin/zoom/zoom.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
